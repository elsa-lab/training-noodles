# Name of the spec
name: Two locals

# Description of the spec
description: Run commands on two servers which are actually localhost

################################################################################
# Command Packets
################################################################################

# Commands to run on localhosts, use "noodles run <spec_path>" to run all the
# commands
run:
  all:
  - name: Experiment 1
    description: Example experiment 1
    commands: "echo Running experiment 1 && echo Hello $(hostname) > examples/two_locals/exp1.log"
  - name: Experiment 2
    description: Example experiment 2
    commands:
    - "echo Running experiment 2"
    - "date > examples/two_locals/exp2.log"
    - "echo The hostname is $(hostname)"
    - "echo The time now is $(date)"
  - name: Experiment 3
    description: Example experiment 3
    commands:
    - "echo Running experiment 3"
    - "cd examples/two_locals"
    - "date > exp3.log"
    - "echo The hostname is $(hostname)"
    - "echo The time now is $(date)"
    requirements:
      cpu_usage: ">=0"

################################################################################
# Servers
################################################################################

# All servers
servers:
- name: Localhost 1
  hostname: localhost
- name: Localhost 2
  hostname: localhost

################################################################################
# Deployment
################################################################################

# The interval to run each deployment round
round_interval: 10
# The interval to deploy each experiment in each round
deployment_interval: 0
